{"version":3,"file":"presentation_definition.interface.js","sourceRoot":"","sources":["../../../../src/common/interfaces/presentation_definition.interface.ts"],"names":[],"mappings":"","sourcesContent":["import {JWA_ALGS} from '@/constants';\nimport {\n  W3CVerifiableCredentialFormats,\n  W3CVerifiablePresentationFormats,\n} from '@/formats';\n\n/**\n * Data structure of a presentation definition according to\n * https://identity.foundation/presentation-exchange/spec/v2.0.0/#presentation-definition\n */\nexport interface DIFPresentationDefinition {\n  id: string;\n  input_descriptors: PresentationInputDescriptor[];\n  name?: string;\n  purpose?: string;\n  format: LdFormat & JwtFormat;\n}\n\n/**\n * Describe information that the verifiers needs from the client.\n * Based on https://identity.foundation/presentation-exchange/spec/v2.0.0/#input-descriptor\n */\nexport interface PresentationInputDescriptor {\n  id: string;\n  name?: string;\n  purpose?: string;\n  format?: LdFormat & JwtFormat;\n  constraints: InputDescriptorContraintType;\n}\n\n/**\n * Defines the restrictions that an InputDescriptor must fulfill.\n */\nexport interface InputDescriptorFielType {\n  path: string[];\n  id?: string;\n  purpose?: string;\n  name?: string;\n  filter?: Record<string, unknown>;\n  optional?: boolean;\n}\n\n/**\n * Specifies the fields that the delivered VCs should comply with\n */\nexport interface InputDescriptorContraintType {\n  fields?: InputDescriptorFielType[];\n  limit_disclosure?: 'required' | 'preferred';\n}\n\n/**\n * Specifies the valid formats that use JLD\n * Based on https://identity.foundation/claim-format-registry/#registry\n */\nexport type LdFormat = {\n  [key in keyof Pick<\n    W3CVerifiableCredentialFormats & W3CVerifiablePresentationFormats,\n    'jwt_vc_json-ld' | 'ldp_vc' | 'ldp_vp'\n  >]?: {proof_type: string}; // TODO: When LD is adopted, add values from LD Registry https://w3c-ccg.github.io/ld-cryptosuite-registry/#ed25519\n};\n\n/**\n * Specifies the valid formats that use JWT\n * Based on https://identity.foundation/claim-format-registry/#registry\n */\nexport type JwtFormat = {\n  [key in keyof Pick<\n    W3CVerifiableCredentialFormats & W3CVerifiablePresentationFormats,\n    'jwt_vc_json' | 'jwt_vc' | 'jwt_vp_json' | 'jwt_vp'\n  >]?: {alg: Exclude<JWA_ALGS, 'none'>[]};\n};\n"]}