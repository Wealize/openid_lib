{"version":3,"file":"authz_details.builder.js","sourceRoot":"","sources":["../../../../../src/common/builders/authz/authz_details.builder.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,oCAAoC,EAAC,MAAM,0BAA0B,CAAC;AAI9E;;GAEG;AACH,MAAM,OAAO,mBAAmB;IASpB;IACA;IATF,KAAK,GAAa,EAAE,CAAC;IACrB,SAAS,GAAa,EAAE,CAAC;IACzB,OAAO,GAAa,EAAE,CAAC;IACvB,SAAS,GAAa,EAAE,CAAC;IACzB,UAAU,CAAU;IACpB,UAAU,GAAa,EAAE,CAAC;IAElC,YACU,IAAY,EACZ,MAAsC;QADtC,SAAI,GAAJ,IAAI,CAAQ;QACZ,WAAM,GAAN,MAAM,CAAgC;IAC7C,CAAC;IAEJ;;;;;OAKG;IACH,MAAM,CAAC,uBAAuB,CAC5B,MAAsC;QAEtC,OAAO,IAAI,mBAAmB,CAC5B,oCAAoC,EACpC,MAAM,CACP,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACH,SAAS,CAAC,KAAe;QACvB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;OAIG;IACH,aAAa,CAAC,SAAmB;QAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;OAIG;IACH,WAAW,CAAC,OAAiB;QAC3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;OAIG;IACH,aAAa,CAAC,SAAmB;QAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;OAIG;IACH,cAAc,CAAC,UAAkB;QAC/B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;OAIG;IACH,cAAc,CAAC,UAAoB;QACjC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;OAGG;IACH,KAAK;QACH,OAAO;YACL,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,UAAU,EAAE,IAAI,CAAC,UAAU;YAC3B,UAAU,EAAE,IAAI,CAAC,UAAU;SAC5B,CAAC;IACJ,CAAC;CACF","sourcesContent":["import {OPENID_CREDENTIAL_AUTHZ_DETAILS_TYPE} from '../../constants/index.js';\nimport {W3CVerifiableCredentialFormats} from '../../formats/index.js';\nimport {AuthorizationDetails} from '../../interfaces/authz_details.interface.js';\n\n/**\n * Builder class for AuthorizationDetails\n */\nexport class AuthzDetailsBuilder {\n  private types: string[] = [];\n  private locations: string[] = [];\n  private actions: string[] = [];\n  private datatypes: string[] = [];\n  private identifier?: string;\n  private privileges: string[] = [];\n\n  private constructor(\n    private type: string,\n    private format: W3CVerifiableCredentialFormats,\n  ) {}\n\n  /**\n   * Generate a builder with the required parameters to build\n   * an instance of AuthorizationDetails valid for the issuance of W3C VC\n   * @param format W3C VC format\n   * @returns Instance of AuthzDetailsBuilder\n   */\n  static openIdCredentialBuilder(\n    format: W3CVerifiableCredentialFormats,\n  ): AuthzDetailsBuilder {\n    return new AuthzDetailsBuilder(\n      OPENID_CREDENTIAL_AUTHZ_DETAILS_TYPE,\n      format,\n    );\n  }\n\n  /**\n   * Set the attribute \"types\" of a authorization details object\n   * @param types Types of the requested credentials\n   * @returns This object\n   */\n  withTypes(types: string[]): AuthzDetailsBuilder {\n    this.types = types;\n    return this;\n  }\n\n  /**\n   * Set the attribute \"locations\" of a authorization details object\n   * @param locations Locations to include\n   * @returns This object\n   */\n  withLocations(locations: string[]): AuthzDetailsBuilder {\n    this.locations = locations;\n    return this;\n  }\n\n  /**\n   * Set the attribute \"actions\" of a authorization details object\n   * @param actions Actions to include\n   * @returns This object\n   */\n  withActions(actions: string[]): AuthzDetailsBuilder {\n    this.actions = actions;\n    return this;\n  }\n\n  /**\n   * Set the attribute \"datatypes\" of a authorization details object\n   * @param datatypes Datatypes of the requested credentials\n   * @returns This object\n   */\n  withDatatypes(datatypes: string[]): AuthzDetailsBuilder {\n    this.datatypes = datatypes;\n    return this;\n  }\n\n  /**\n   * Set the attribute \"identifier\" of a authorization details object\n   * @param datatypes Identifier of the requested credentials\n   * @returns This object\n   */\n  withIdentifier(identifier: string): AuthzDetailsBuilder {\n    this.identifier = identifier;\n    return this;\n  }\n\n  /**\n   * Set the attribute \"privileges\" of a authorization details object\n   * @param datatypes Privileges of the requested credentials\n   * @returns This object\n   */\n  withPrivileges(privileges: string[]): AuthzDetailsBuilder {\n    this.privileges = privileges;\n    return this;\n  }\n\n  /**\n   * Generate AuthorizationDetails from the data contained in the builder\n   * @returns AuthorizationDetails instance\n   */\n  build(): AuthorizationDetails {\n    return {\n      type: this.type,\n      format: this.format,\n      types: this.types,\n      locations: this.locations,\n      actions: this.actions,\n      datatypes: this.datatypes,\n      identifier: this.identifier,\n      privileges: this.privileges,\n    };\n  }\n}\n"]}